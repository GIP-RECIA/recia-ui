<!doctype html>
<html lang="">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script type="module" src="/index.ts"></script>
</head>

<body class="container">
  <section>
    <r-header
      template-api-url="/commun/portal_template_api.tpl.json"
      drawer-items='[
        {
          "id": "mediacentre",
          "name": "MÃ©diacentre",
          "icon": "/images/portlet_icons/Mediacentre.svg",
          "link": { "href": "/portail/p/Mediacentre", "target": "_self" },
          "autoDetectCurrent": true
        }
      ]'
      margin-top
      debug
    >
    </r-header>

    <button id="soffit-updater">
      Soffit updater
    </button>

    <button id="toggle-drawer">
      Toggle drawer
    </button>

    <p>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit natus et aliquam! Neque nam accusamus optio veniam harum quam molestias libero suscipit, repellendus, magni explicabo? Nesciunt aperiam esse quasi omnis! Deserunt veritatis velit delectus nam quis dolorum id tenetur ipsam quisquam! Molestias facilis similique possimus, delectus nihil cumque expedita hic nesciunt quidem quo pariatur officiis voluptas velit consectetur magnam. Ut perspiciatis nisi sint molestiae unde excepturi porro, ipsam consequatur, tempore dolorem labore maiores optio rem corrupti perferendis, sed aut. Laudantium, molestias optio? Tempora eveniet reprehenderit accusantium labore maiores eos corrupti, nihil, ad distinctio ipsam porro fuga sapiente. Tenetur rerum omnis quidem repellendus provident tempora cumque laborum fugit, deserunt velit repudiandae molestias quae impedit quisquam itaque consequuntur dolor repellat laudantium magni modi. Repellat tenetur fuga repellendus inventore in tempora adipisci facilis iste veniam sunt! Alias sed nihil doloremque voluptas porro esse nobis libero quasi eligendi, sint consequuntur at hic ea ex! Nihil, necessitatibus quibusdam. Quasi, dignissimos architecto? Suscipit pariatur impedit aspernatur. Laudantium perspiciatis voluptates cupiditate recusandae repellat? Sequi blanditiis quos, impedit illo eaque harum recusandae minima, tenetur architecto, expedita praesentium quo dicta! Nulla quaerat cum ullam a, assumenda dignissimos distinctio quos, nobis minima corporis ipsum sapiente numquam dolorem rerum et asperiores recusandae. Quae praesentium explicabo sequi voluptatibus aspernatur ullam, nihil earum cupiditate. Perspiciatis optio doloribus nostrum cum iusto rerum ipsum ratione, magni reiciendis. Dolore minima ea mollitia omnis, blanditiis ab, quas accusantium deserunt nostrum aliquid repudiandae ipsam, voluptatem nisi numquam praesentium maxime consequatur architecto similique est? Reprehenderit atque sed dolor veniam debitis rem reiciendis magni consectetur natus, repellat totam expedita, labore nobis non perspiciatis quae necessitatibus repellendus aspernatur, minima aliquam repudiandae ipsum. Praesentium minima, in delectus quae repellendus obcaecati ratione saepe sunt repudiandae esse veritatis ut quam aut alias nesciunt consequuntur debitis, reprehenderit possimus accusamus blanditiis quo mollitia tempore natus architecto. Doloremque ad quidem obcaecati modi optio asperiores, numquam deleniti dicta eum illum at, maiores totam nobis consequatur, facere eligendi dolorem dignissimos? Minus accusantium praesentium dicta fugiat nostrum quae quas unde, quos eaque laudantium quidem ut repudiandae? Veritatis minima at cum itaque ducimus, sint perferendis earum blanditiis. Nihil omnis dicta veniam! Quos provident nulla repellat quas dignissimos ab eos odit blanditiis quis ipsa aut assumenda soluta nam voluptatibus dolorum quasi eaque, maxime dolores quaerat itaque sed voluptatum asperiores? Reiciendis, iure amet laboriosam minus accusamus asperiores qui iusto commodi ea quibusdam. Esse eius consectetur, dolorum maiores eos neque cum pariatur assumenda quo placeat ab corrupti. Eligendi saepe voluptate error provident. Optio expedita illo, placeat suscipit nostrum, quam quisquam consectetur sapiente enim omnis dolores et quibusdam sunt veritatis blanditiis impedit voluptatem ratione? Placeat repudiandae veniam facilis blanditiis perspiciatis dolorem nam est necessitatibus exercitationem cum? Illo facere numquam praesentium sint doloribus repellat optio ullam quas deserunt consequatur voluptatibus dolore a maxime vitae iusto, fugit rem suscipit sapiente. Ipsum maiores beatae, aperiam temporibus sunt fugiat, quam quod laborum nihil ea odit est suscipit, pariatur cumque? Voluptatem, doloremque iure culpa consectetur quis incidunt, modi magnam id odit delectus aliquid quae at quas voluptate, eius autem sapiente labore. Repudiandae, sequi. Eius pariatur mollitia exercitationem magnam quisquam quaerat beatae corporis id reprehenderit, vero alias, temporibus earum doloribus quod impedit, tempora veniam sed quidem eligendi. Ea temporibus quasi, in excepturi consequuntur dignissimos eum voluptatibus dicta corporis neque distinctio porro dolore saepe laboriosam molestiae voluptatum! Tempora ea fugit iste, veritatis molestias quae tempore dolores quo aliquid est. Quo expedita voluptate nihil nemo vero nostrum facere iure numquam. Odio, quod ea ipsam a distinctio hic in repellat, architecto rerum placeat reprehenderit suscipit voluptatibus ad aperiam accusantium dolorem ullam quidem odit. Voluptas deserunt excepturi fuga soluta suscipit eligendi odit, expedita at eum, aliquid, ipsam adipisci inventore? Quaerat molestias incidunt, vitae impedit, dolore magnam, perspiciatis unde obcaecati voluptate perferendis maiores inventore exercitationem quidem. Exercitationem libero dolor veniam cumque consequuntur sequi nobis pariatur explicabo ipsam numquam, nihil quod molestiae facere? Explicabo adipisci quo, fugit placeat nisi molestias harum praesentium nulla perspiciatis non nihil mollitia consequuntur eius neque magnam sit debitis blanditiis excepturi fugiat repudiandae quasi odio voluptate? Adipisci ipsum sint accusamus. Perspiciatis hic labore, fuga alias sapiente dolor deserunt, quo sint quis voluptate similique, numquam porro exercitationem? Doloribus ratione maiores nemo ipsa, autem, ipsam eius nesciunt iusto laborum, veniam odit! Ipsum velit rerum at minus optio, odio sed distinctio natus ad consectetur rem odit facilis ab consequatur magnam deleniti assumenda eum voluptates iure iste nulla incidunt harum? Nesciunt maxime sit aliquam perspiciatis consequatur sapiente delectus assumenda. Doloribus vitae quisquam modi quis temporibus omnis nam, impedit quibusdam, expedita ad autem fugiat, nulla culpa porro accusantium delectus officiis dolores dolorem! Mollitia nam consequatur repellat dignissimos perferendis eaque velit fugiat minima tempora labore tempore similique reiciendis laudantium error quisquam minus eum beatae perspiciatis sunt iste, dolor magni deserunt. Excepturi, debitis veniam. Provident repellat cumque ullam voluptatibus facilis doloribus sequi voluptate praesentium! Aperiam natus dicta facilis veniam voluptatum repudiandae veritatis sequi blanditiis quisquam nulla ex iste magnam odit ipsum rem odio assumenda cumque, cupiditate accusantium! Tempora consequatur, quia cumque, obcaecati molestias aliquam vitae odit quibusdam blanditiis esse, dolor praesentium aliquid perferendis illo numquam animi maiores totam? Explicabo qui quae aliquam praesentium, in eaque, nulla iste, laborum ad necessitatibus enim fugit dolorem. Modi esse voluptatem ratione debitis. Nulla qui assumenda harum nemo aperiam odio quia hic eaque sit, possimus ut voluptate, quos labore quam eius vel alias, aliquam laborum dolor temporibus corporis cupiditate ad provident quas? Expedita cupiditate repellat asperiores libero, nostrum aperiam! Tempora maiores voluptate debitis, facilis a quisquam, distinctio repellat quis numquam doloribus asperiores eveniet id tenetur. Voluptas suscipit facere eos nobis? Nulla expedita in optio tempore sit enim facere, ipsum qui corporis sequi, repellendus quaerat eum ea, quisquam asperiores deleniti? Et nisi fugit esse asperiores consequuntur perspiciatis? Aspernatur repellendus est vero laudantium maxime dignissimos aut, asperiores saepe sunt facilis unde quia nihil ducimus iste qui quidem, eligendi ipsam esse expedita voluptatem. Illo repellat dignissimos tempora voluptates quo modi! Nulla, impedit! Error facilis pariatur unde architecto sed at, inventore amet nesciunt laboriosam suscipit dolores corporis veniam. Vel dolorem, ipsam rerum nisi eveniet repellat obcaecati ea ut doloribus?
    </p>
    <p>
      Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ipsam, deleniti alias recusandae impedit, itaque neque id ducimus, nostrum distinctio accusantium ut amet facere odio repudiandae maxime! A totam dolor quo, hic rem dignissimos earum praesentium tempora reprehenderit maxime debitis iste. Ullam, cupiditate? Iure voluptates quasi aspernatur excepturi animi repellendus, temporibus cumque quisquam a est impedit incidunt. Sint, voluptas esse. Maiores iusto enim impedit? Iure hic ad temporibus architecto exercitationem eligendi iusto, at neque nihil cum maxime explicabo nulla quisquam labore quibusdam doloremque quae minima quam sequi magni. Cum officia nemo recusandae ipsum iure odit possimus, minus eveniet repellendus tempora esse veniam soluta ipsa vero illum omnis laudantium similique unde fugit, voluptates dolorem dolore reiciendis nostrum. Esse, illo id, qui quidem unde saepe deserunt aperiam eveniet neque amet asperiores accusamus corrupti officia beatae obcaecati, iure veritatis alias dolores dolorem recusandae impedit temporibus maiores. Praesentium neque cupiditate omnis, vitae deleniti velit tenetur fugit repellendus harum reiciendis at minus enim error voluptatum ipsam pariatur cumque reprehenderit modi animi aperiam! Incidunt atque, saepe, rem non voluptatum deserunt esse cupiditate consectetur molestiae commodi aliquid dolor animi quibusdam eius. Odio quia commodi aliquid, ad ducimus dignissimos rerum amet animi sunt error tempore fugiat provident quidem quis, similique quod sequi modi. Et tenetur, sapiente quasi illo expedita accusamus vel, a velit odit corporis deleniti suscipit nihil, adipisci exercitationem! Quam accusantium quia quisquam. Voluptate impedit officiis voluptatum ad consectetur, voluptates quaerat vero repellendus maxime velit ducimus facere esse excepturi sit. Quam nihil molestiae error suscipit facilis adipisci placeat necessitatibus doloremque officiis, velit ipsum molestias cupiditate eos aperiam ea expedita inventore fuga earum sunt dolores ullam explicabo ut. Nisi sapiente maiores quibusdam saepe necessitatibus odio asperiores velit corporis adipisci officia aperiam, fugit iure voluptate similique eaque harum eveniet et facere mollitia corrupti, dicta iste at earum? Ratione, minima accusantium? Ab perferendis atque numquam recusandae ex aperiam reiciendis mollitia voluptatibus iste non quae excepturi animi, sed nam dignissimos necessitatibus nesciunt ad rem tempora? Placeat magni eius beatae quisquam libero distinctio, nesciunt cumque nam vero possimus fuga architecto, vel numquam maxime quos aliquam? Nulla at omnis sint eos voluptatibus adipisci aperiam ipsa quos soluta necessitatibus aspernatur consequuntur ex accusamus quaerat officia, corrupti quam illum. Voluptas atque amet assumenda unde accusamus magni fuga, repudiandae nostrum magnam, necessitatibus optio repellendus exercitationem! Vitae quidem sunt consectetur, quisquam velit culpa quaerat voluptatibus, hic aliquid eius harum id! Quas perferendis libero provident ea repellendus ipsum molestias deserunt magni alias rem eveniet error, quibusdam ad repellat dignissimos molestiae, optio a! Dolorum praesentium placeat doloribus sed obcaecati quibusdam vel consequatur earum repellendus animi explicabo corrupti eaque eligendi corporis nemo unde saepe blanditiis architecto commodi itaque esse, mollitia non deserunt. Doloribus dignissimos repellat, facilis cupiditate dolore nisi voluptas enim! Voluptate, exercitationem sit. Iste ratione ipsa voluptatibus qui soluta cupiditate consectetur possimus esse temporibus eaque aperiam libero sequi ex, similique perspiciatis corporis ad ullam mollitia tempore explicabo dolorem, non voluptas! Rem voluptatum saepe labore voluptatibus repudiandae eum, officia recusandae eos architecto ducimus! Magnam saepe laudantium distinctio similique dignissimos doloribus, dolorem eveniet exercitationem deserunt autem accusamus modi tempore rem odit officia fugiat adipisci tenetur placeat excepturi. Facilis dolor eius quidem vel illo quo error nobis provident. Cumque eveniet dolorum quis odio libero repudiandae ipsam iure placeat minima aliquam quisquam esse culpa modi, dignissimos ad corrupti expedita. Accusantium officiis in totam fugiat omnis commodi consequuntur cum odit, porro quis, pariatur nostrum voluptatum reprehenderit eaque et possimus quaerat laboriosam beatae blanditiis dolor. Assumenda reiciendis accusamus fugit. Ex veniam dignissimos repellendus inventore vel praesentium, minus blanditiis ipsam voluptas atque, provident odio sit animi cupiditate aliquam totam nisi porro, itaque deserunt! Ipsa modi magnam nulla cupiditate distinctio, hic sint repellat ullam labore similique nihil illum aspernatur vitae aliquid reprehenderit minus eius eum, dignissimos dolor sequi obcaecati. Repellendus laborum in omnis animi beatae consequatur doloremque, magni nobis recusandae facere sed voluptatem dicta obcaecati atque, quisquam labore iste dolor rerum ex. Porro blanditiis, sunt atque distinctio libero nihil perferendis accusantium maiores dolorum maxime quisquam illo iusto. Laboriosam, laborum amet? Magni voluptates earum fugiat ipsa necessitatibus, non quasi alias deserunt, natus odit eos accusamus sunt. In molestias omnis nostrum fugiat eum nam sit, fugit suscipit error id recusandae velit animi ut magni explicabo expedita laudantium quas. Doloremque, incidunt rerum similique ut accusantium eius earum quos quasi maxime impedit aliquam quis dolorum perferendis ipsam mollitia suscipit consequuntur vitae! Nam et quasi est hic fugit ut veritatis exercitationem a sapiente dignissimos incidunt repellat ipsam omnis provident asperiores doloremque, cupiditate qui iusto architecto molestias illo sint facere! Placeat earum numquam cum eos. Nobis provident quasi fugit alias exercitationem iure natus tempora nam non maxime, molestias velit aperiam dolorum deleniti, a qui repellendus harum! Incidunt hic eveniet eos ex provident adipisci, ab itaque facere modi quo autem libero consequatur aspernatur ipsa. Vitae a aut modi voluptates et molestiae nulla optio reprehenderit doloribus eligendi accusamus expedita inventore temporibus accusantium fugit obcaecati explicabo similique, corrupti porro est officia suscipit! Iste consectetur explicabo ut corrupti molestias, veniam accusantium quisquam delectus sunt? Doloribus nesciunt maiores quasi error officiis tempore, magnam cupiditate sint nostrum amet quidem fugit cum rerum laborum ex sit, consequatur magni perspiciatis voluptas delectus obcaecati! Nostrum similique quo repellat sunt ratione quas quisquam mollitia aperiam, ut laboriosam repudiandae unde dicta voluptate sequi doloremque dolorem cumque! Sapiente odit, pariatur nisi aut molestias consequuntur dolor minima at ad incidunt ipsam, laudantium ea temporibus commodi odio inventore neque ratione est obcaecati tempora cupiditate. Eaque incidunt non dolor debitis. Repellendus magnam deserunt porro fugiat reiciendis saepe explicabo itaque error rem tempore quas, earum consectetur assumenda possimus illo beatae ex aut corrupti nostrum dignissimos voluptatem inventore ipsam cupiditate? Blanditiis ea iste fugiat laudantium architecto, saepe nisi laboriosam soluta. Quasi accusamus quo fugit praesentium? Labore incidunt corporis quidem quasi dolor rem nihil enim vitae tempore odio, mollitia repudiandae expedita totam necessitatibus in sunt velit a accusamus. Cupiditate adipisci quisquam repellendus at! Aut omnis eaque labore. Perspiciatis, obcaecati ut sed nemo, et assumenda ex quidem cum atque quos est porro? Quibusdam libero eligendi sapiente ullam, quas minima exercitationem necessitatibus iure illo?
    </p>
  </section>

  <script>
    const header = document.querySelector('r-header')
    const config = {
      'default-org-logo-url': "/annuaire_images/default_banner_v1.jpg",
      'default-org-icon-url': "/images/partners/netocentre-simple.svg",
      'default-avatar-url': "/images/icones/noPictureUser.svg",
      'context-api-url': "/portail",
      'favorite-api-url': "/portail/api/layout",
      'layout-api-url': "/portail/api/v4-3/dlm/layout.json",
      'portlet-api-url': "/portail/api/v4-3/dlm/portletRegistry.json?category=All%20categories",
      'organization-api-url': "/paramuseretab/rest/v2/structures/structs/",
      'user-info-api-url': "/portail/api/v5-1/userinfo?claims=private,name,picture,ESCOSIRENCourant,ESCOSIREN&groups=",
      'session-api-url': "/portail/api/session.json",
      'sign-out-url': "/portail/Logout",
      'sign-in-url': "/portail/Login",
      'user-info-portlet-url': "/portail/api/ExternalURLStats?fname=ESCO-MCE&service=/MCE",
      'switch-org-api-url': "/paramuseretab/changeetab/api",
      'user-org-id-attribute-name': "ESCOSIRENCourant[0]",
      'org-logo-url-attribute-name': "otherAttributes.ESCOStructureLogo[0]",
      'user-all-orgs-id-attribute-name': "ESCOSIREN",
      'portlet-info-api-url': "/portail/api/portlet",
      'service-info-api-url': "/service-info-api/api/serviceInfo",
      'services-info-api-url': "/service-info-api/api/allServices",
    }
    // Object.entries(config).forEach(([key, value]) => {
    //   header.setAttribute(key, typeof value == "object" ? JSON.stringify(value) : value)
    // })
    document.querySelector('#soffit-updater').addEventListener('click', () => {
      header.dispatchEvent(new CustomEvent('update-soffit'))
    })
    document.querySelector('#toggle-drawer').addEventListener('click', () => {
      header.toggleAttribute('navigation-drawer-visible')
    })

    const documentEvents = [
      'favorite-event',
      'service-event',
      'user-menu-event',
      'update-favorites',
      'service-info-event',
      'search-event'
    ]
    documentEvents.forEach((listener) => {
      document.addEventListener(listener, (e) => {
        if (!e.detail) {
          console.log(e.type)
          return
        }

        if (e.detail.event)
          e.detail.event.preventDefault()
        console.log(e.type, e.detail)
      })
    })
  </script>
</body>

</html>
